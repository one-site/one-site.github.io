import{b as u,m as s,p as m,f as p,s as w,S as q,a as L,g as E}from"./vendor.92c36afb.js";const k=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function o(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerpolicy&&(n.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?n.credentials="include":r.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(r){if(r.ep)return;r.ep=!0;const n=o(r);fetch(r.href,n)}};k();[1,3,5,7,9,11,13,15].reduce((t,e)=>(t[e+"/16"]=e,t),{});[1,3,5,7].reduce((t,e)=>(t[e+"/8"]=e*2,t),{});[1,3].reduce((t,e)=>(t[e+"/4"]=e*4,t),{});[1].reduce((t,e)=>(t[e+"/2"]=e*8,t),{});const N=()=>{let t=u({height:"100%",width:"100%"}).class,e=u({display:"grid","grid-template-columns":"1fr 1fr 1fr 1fr","overflow-y":"auto",height:"100%"}).class,o=u({"margin-left":"0.25em"}),l=u({"margin-left":"0.5em"});u({"grid-column":"1 / -1","background-color":"lightgrey"}),document.body.classList.add(t);let r=1,n=new Date().getMonth();return{view:({attrs:{nestedData:i}})=>s(`div.${e}`,Object.keys(i).map((f,S)=>{let h=m(f).getMonth(),M=u({"background-color":s.cls({lightgrey:h!==n,palegreen:h===n}),"grid-area":`${r}/1/${r+1}/-1`,position:"sticky",top:0,left:0});r++;let b=Object.keys(i[f]).flatMap(j=>i[f][j].map((g,O)=>{let y=u({"font-size":"0.85em","grid-row":`${r}/${r+1}`});return r++,[!(O>0)&&s(`div.${y}`,{style:"grid-column:1/2"},s(`span.${l}`,p(g.date,"EEE, do"))),s(`div.${y}`,{style:"grid-column:2/3"},g.series),s(`div.${y}`,{style:"grid-column:3/5"},g.track)]}));return[s(`div.${M}`,s(`span.${o}`,p(m(f),"MMMM YYY")))].concat(b)}))}};function $(t,e){if(!e.length)return t;var o=e[0],l=e.slice(1);return L(E(t,o),function(r){return $(r,l)})}let c=[],a={background:!0},d="",v={};Promise.all([s.request(`${d}/data/ertm.json`,a),s.request(`${d}/data/mrs.json`,a),s.request(`${d}/data/mvshofs.json`,a),s.request(`${d}/data/nwmt.json`,a),s.request(`${d}/data/nyirp.json`,a),s.request(`${d}/data/opnm.json`,a).then(t=>t.map(e=>Object.assign(e,{series:"OPNM"}))),s.request(`${d}/data/roc.json`,a).then(t=>t.map(e=>Object.assign(e,{series:"ROC"}))),s.request(`${d}/data/smart.json`,a),s.request(`${d}/data/ttom.json`,a).then(t=>t.map(e=>Object.assign(e,{series:"TTOM"})))]).then(t=>{c=t.flatMap(e=>e),c.reduce((e,o,l)=>(o.date=m(o.date),o.id=l,e),c),c=c.filter(e=>e.date>=m("2023-01-01")).sort((e,o)=>e.date-o.date),v=$(c.map(e=>(e.m=p(w(e.date),"yyyy-MM-dd"),e.dt=p(e.date,"dd-MMM-yyyy"),e)),["m","dt"]),s.redraw()});var P=q().addTo("body").size(2400,400);s.mount(document.body,{view:()=>s(N,{nestedData:v})});window.DEBUG={m:s,draw:P};
